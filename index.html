<!DOCTYPE html>
<html ng-app="Rails5">
  <head>
    <meta charset="utf-8">
    <title>Rails 5 API App</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" media="screen" title="no title">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.3/css/bootstrap.min.css" media="screen" title="no title">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.1.1/css/mdb.min.css" media="screen" title="no title">

    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css"> -->
    <link rel="stylesheet" href="./css/custom.css" media="screen" title="no title">

    <!-- JavaScript for: jQuery, angular, materialize, and angular-materialize. All of which are needed. -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.2.1/angular-materialize.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src='js/app.js'></script>
    <script src='js/rails5Controller.js'></script>
  </head>
  <body ng-controller="rails5Controller as rails">
        <!--Navigation & Intro-->
      <header>
      	<!--Navbar-->
      	<nav class="navbar navbar-dark navbar-fixed-top scrolling-navbar danger-color-dark">

      		<!-- Collapse button-->
      		<button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#collapseEx">
      		<i class="fa fa-bars"></i></button>

      		<div class="container">

      			<!--Collapse content-->
      			<div class="collapse navbar-toggleable-xs" id="collapseEx">
      				<!--Navbar Brand-->
      				<a class="navbar-brand" href="http://mdbootstrap.com/material-design-for-bootstrap/" target="_blank">Appointments App</a>
      				<!--Links-->
      				<ul class="nav navbar-nav">
      					<li class="nav-item">
      						<a class="nav-link" href="#!">Patients<span class="sr-only">(current)</span></a>
      					</li>
      					<li class="nav-item">
      						<a class="nav-link" href="#!">Doctors</a>
      					</li>
      					<li class="nav-item">
      						<a class="nav-link" href="#!">Appointments</a>
      					</li>
      					<li class="nav-item">
      						<a class="nav-link" href="#!">Contact</a>
      					</li>

      				</ul>

      				<!--Navbar icons-->
      				<ul class="nav navbar-nav nav-flex-icons">
      					<li class="nav-item">
      						<a class="nav-link"><i class="fa fa-facebook"></i></a>
      					</li>
      					<li class="nav-item">
      						<a class="nav-link"><i class="fa fa-twitter"></i></a>
      					</li>
      					<li class="nav-item">
      						<a class="nav-link"><i class="fa fa-instagram"></i></a>
      					</li>
      				</ul>

      			</div>
      			<!--/.Collapse content-->

      		</div>

      	</nav>
      	<!--/.Navbar-->

      </header>
      <!--/Navigation & Intro-->

      <!--Mask-->
      <div class="view"></div>

      <div class="hm-black-light">
      	<div class="full-bg-img flex-center">
      		<ul>
      			<li>
      				<h1 class="h1-responsive wow fadeInUp title">Make an Appointment</h1></li>
      			<li>
              <form ng-submit="rails.addAppt()">
        				<div class="row">
        					<div class="col-sm-1">
        						<div class="sm-form">
        							<input type="text" class="form-control" ng-model="rails.newAppt.location">
        							<label>Location</label>
        						</div>
        					</div>

        					<div class="col-sm-2">
        						<div class="sm-form">
        							<input type="text" class="form-control" ng-model="rails.newAppt.reason">
        							<label>Reason</label>
        						</div>
        					</div>


                  <div class="col-sm-2">
                    <div class="sm-form">

                      <input ng-model="rails.newAppt.day" class="form-control" input-date
                        type="text"
                        name="created"
                        id="inputCreated"
                        ng-model="currentTime"
                        container=""
                        format="dd/mm/yyyy"
                        months-full="{{ month }}"
                        months-short="{{ monthShort }}"
                        weekdays-full="{{ weekdaysFull }}"
                        weekdays-short="{{ weekdaysShort }}"
                        weekdays-letter="{{ weekdaysLetter }}"
                        disable="disable"
                        min="{{ minDate }}"
                        max="{{ maxDate }}"
                        today="today"
                        first-day="1"
                        clear="clear"
                        close="close"
                        select-years="15"
                        on-start="onStart()"
                        on-render="onRender()"
                        on-open="onOpen()"
                        on-close="onClose()"
                        on-set="onSet()"
                        on-stop="onStop()" />
                        <label style="color:white">Input date</label>
                    </div>
                  </div>

                  <div class="dropdown col-sm-2">
                    <div class="sm-form">
                      <select class="form-control" ng-model="rails.newAppt.patient_id">
                        <option value="">--Patients--</option>
                        <option ng-repeat="patient in rails.patients" value={{patient.id}}>{{patient.name}}</option>
                      </select>
                      <!-- <label>Patients</label> -->
                    </div>
                  </div>

                  <div class="col-sm-2">
                    <div class="sm-form">
                      <select class="form-control" ng-model="rails.newAppt.doctor_id">
                        <option value="">--Doctors--</option>
                        <option ng-repeat="doctor in rails.doctors" value="{{doctor.id}}">{{doctor.name}}</option>
                      </select>
                      <!-- <label>Doctor</label> -->
                    </div>
                  </div>

        					<div class="col-sm-3">
        						<div class="sm-form">
        							<button class="btn btn-sm btn-danger">New Appt</button>
        						</div>
        					</div>
        				</div>
              </form>
      			</li>
            <li>
              <li>
        				<h1 class="h1-responsive wow fadeInUp title">Add a New Patient</h1></li>
        			<li>
              <form ng-submit="rails.addPatient()">
        				<div class="row">
        					<div class="col-sm-1">
        						<div class="sm-form">
        							<input type="text" class="form-control" ng-model="rails.newPatient.name">
        							<label>Name</label>
        						</div>
        					</div>

        					<div class="col-sm-2">
        						<div class="sm-form">
        							<input type="text" class="form-control" ng-model="rails.newPatient.insurance_co">
        							<label>Insurance Co</label>
        						</div>
        					</div>

                  <div class="col-sm-2">
                    <div class="sm-form">
                      <select class="form-control" ng-model="rails.newPatient.gender">
                        <option value="">--Gender--</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                      </select>
                      <!-- <label>Doctor</label> -->
                    </div>
                  </div>

        					<div class="col-sm-3">
        						<div class="sm-form">
        							<button class="btn btn-sm btn-danger">New Patient</button>
        						</div>
        					</div>
        				</div>
              </form>
      			</li>

      		</ul>
      	</div>
      <!--/.Mask-->

      <table class="table table-hover table-striped table-inverse">
        <thead class="thead-inverse">
          <tr>
            <th class="col-sm-2">Date</th>
            <th class="col-sm-4">Location</th>
            <th class="col-sm-4">Reason</th>
            <th class="col-sm-1">Patient ID</th>
            <th class="col-sm-1">Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="appointment in rails.appointments">
            <td class="col-sm-2">{{appointment.day}}</th>
            <td class="col-sm-4">{{appointment.location}}</td>
            <td class="col-sm-4">{{appointment.reason}}</td>
            <td class="col-sm-1">{{rails.getPatientName(appointment)}}</td>
            <td class="col-sm-1"><button ng-click="rails.deleteAppt(appointment)">Cancel</button></td>
        </tbody>
      </table>
    </div>

  </body>
</html>
